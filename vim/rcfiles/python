let arch = getenv('UNAME_MACHINE')
let g:python_host_prog='/usr/bin/python'

if arch == 'arm64'
  let g:python3_host_prog='/opt/homebrew/bin/python3'
elseif arch == 'x86_64'
  let g:python3_host_prog='/usr/local/bin/python3'
endif

augroup filetype_python
" Clear old autocmds in group
autocmd!
autocmd BufNewFile,BufRead *.py setlocal ai sw=4 ts=4 sts=4 et fileformat=unix
autocmd FileType python nnoremap <leader>py :Dispatch python3 %<Tab><cr>
autocmd FileType python nnoremap <leader>pt :TestFile<cr>
autocmd BufWritePre *.py :%s/\s\+$//e
augroup END
" vim:ft=vim
